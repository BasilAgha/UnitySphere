<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UnitySphere | Admin Dashboard</title>
  <link href="style.css" rel="stylesheet">
</head>
<body class="dashboard-page">
  <div class="app-shell" id="dashboard">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-icon">US</div>
        <div>
          <strong>UnitySphere</strong>
          <span>Admin</span>
        </div>
      </div>

      <nav class="sidebar-nav">
      <button class="nav-link active" data-section="overview">üè† <span>Dashboard</span></button>
      <button class="nav-link" data-section="centers">üè¢ <span>Centers</span></button>
      <button class="nav-link" data-section="specialists">üßë‚Äç‚öïÔ∏è <span>Specialists</span></button>
      <button class="nav-link" data-section="children">üë¶ <span>Children</span></button>
      <button class="nav-link" data-section="modules">üß© <span>VR Modules</span></button>
      <button class="nav-link" data-section="assessments">üìä <span>Assessments</span></button>
    </nav>


      <div class="sidebar-footer">
        <div class="current-user">
          <div class="avatar avatar-static" id="sidebar-avatar"></div>
          <div>
            <strong id="sidebar-name">‚Äî</strong>
            <span id="sidebar-email" class="hint">‚Äî</span>
          </div>
        </div>
        <button type="button" class="ghost" id="logout">Log out</button>
      </div>
    </aside>

    <!-- Main -->
    <div class="app-main">
      <header class="app-header">
        <div>
          <p class="hint" id="greeting">Welcome</p>
          <h1 id="section-title">Admin Dashboard</h1>
        </div>
        <div class="header-actions">
          <div class="user-chip">
            <div class="avatar avatar-static" id="header-avatar"></div>
            <div>
              <strong id="user-name">‚Äî</strong>
              <span id="user-role" class="hint">Main admin</span>
            </div>
          </div>
          <button type="button" class="ghost small" id="btn-change-avatar">Change photo</button>
          <input type="file" id="admin-avatar-file" accept="image/*" hidden>
        </div>
      </header>

      <main>
        <!-- Overview -->
        <section id="section-overview" class="section active">
  <div class="overview-grid" id="network-overview">
    <!-- ROW 1 ‚Äì CHART + DONUT + LEARNING PROGRESS -->
    <div class="card chart-card">
      <div class="card-header">
        <div>
          <h2>VR Minutes per Month</h2>
          <p class="hint">This week ‚Ä¢ Last week</p>
        </div>
      </div>
      <div class="chart multi-line">
        <div class="chart-lines">
          <span class="line line-one"></span>
          <span class="line line-two"></span>
        </div>
        <div class="chart-axis">
          <span>Jan</span><span>Feb</span><span>Mar</span><span>Apr</span><span>May</span><span>Jun</span>
        </div>
      </div>
    </div>

    <div class="card donut-card">
      <div class="card-header">
        <div>
          <h2>Session by Device</h2>
          <p class="hint">Centers ‚Ä¢ Modules ‚Ä¢ Specialists ‚Ä¢ Other</p>
        </div>
      </div>
      <div class="donut-wrapper">
        <div class="donut"></div>
        <ul class="chart-legend">
          <li><span class="legend-color legend-one"></span> Centers: 38.6%</li>
          <li><span class="legend-color legend-two"></span> Modules: 22.5%</li>
          <li><span class="legend-color legend-three"></span> Specialist: 30.8%</li>
          <li><span class="legend-color legend-four"></span> Other: 8.1%</li>
        </ul>
      </div>
    </div>

    <div class="card learning-progress">
      <div class="card-header">
        <div>
          <h2>Learning Progress</h2>
          <p class="hint">Videos ‚Ä¢ Tasks</p>
        </div>
      </div>
      <div class="progress-circle" style="--progress-value: 85;">
        <div class="progress-center">
          <strong>85%</strong>
          <span class="hint">Overall</span>
        </div>
      </div>
      <div class="card-footer">
        <span class="pill">Videos 60%</span>
        <span class="pill">Tasks 85%</span>
      </div>
    </div>

    <!-- ROW 2 ‚Äì STAT CARDS -->
    <div class="stat-card">
      <header><span>Centers</span><span class="chip">Live</span></header>
      <div class="stat-value" id="stat-centers">0</div>
      <div class="trend neutral">‚ñ≤ 12.8%</div>
    </div>
    <div class="stat-card">
      <header><span>Specialists</span><span class="chip">Live</span></header>
      <div class="stat-value" id="stat-specialists">0</div>
      <div class="trend neutral">‚ñ≤ 8.2%</div>
    </div>
    <div class="stat-card">
      <header><span>VR Modules</span><span class="chip">Live</span></header>
      <div class="stat-value" id="stat-modules">0</div>
      <div class="trend neutral">‚ñ≤ 5.4%</div>
    </div>
    <div class="stat-card">
      <header><span>Assessments</span><span class="chip">Live</span></header>
      <div class="stat-value" id="stat-assessments">0</div>
      <div class="trend neutral">‚ñ≤ 3.1%</div>
    </div>

    <!-- ROW 3 ‚Äì PROGRESS + AI RECOMMENDATIONS -->
    <div class="card progress-list">
      <div class="card-header">
        <div>
          <h2>Progress Rate by Center</h2>
          <p class="hint">Trailing 30 days</p>
        </div>
      </div>

      <div class="progress-item">
        <strong>NeuroConnect Center</strong>
        <div class="progress-bar"><span style="width: 78%"></span></div>
        <span class="score">78%</span>
      </div>
      <div class="progress-item">
        <strong>Innovate Minds Center</strong>
        <div class="progress-bar"><span style="width: 64%"></span></div>
        <span class="score">64%</span>
      </div>
      <div class="progress-item">
        <strong>Cogniplay Center</strong>
        <div class="progress-bar"><span style="width: 91%"></span></div>
        <span class="score">91%</span>
      </div>
    </div>

    <div class="card recommendations">
      <div class="card-header">
        <div>
          <h2>AI Recommendations</h2>
          <p class="hint">Surface insights for each unit</p>
        </div>
      </div>

      <div class="recommendation">
        <div class="recommendation-icon">‚ö°</div>
        <div class="recommendation-body">
          <strong>Increase sensory modules</strong>
          <p class="hint">Add 3 new sessions to Innovate Minds to match demand.</p>
          <ul class="recommendation-list">
            <li>Prioritize sensory integration content for the Innovate Minds Center.</li>
            <li>Pair new sessions with specialists focused on OT and PT.</li>
            <li>Track progress through the assessment log after launch.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- CENTER OVERVIEW (unchanged, for per-center view) -->
  <div id="center-overview" class="center-overview hidden">
    <div class="card hero-card">
      <div class="hero-header">
        <div>
          <h2 id="center-overview-name">Your center</h2>
          <p class="hint" id="center-overview-location">‚Äî</p>
        </div>
        <span class="chip subtle">Center dashboard</span>
      </div>
      <p class="hint" id="center-overview-desc">Stay connected with your specialists and recent progress.</p>
      <div class="tag-row" id="center-overview-tags"></div>
    </div>

    <div class="center-metrics">
      <div class="stat-card mini">
        <header><span>Your specialists</span></header>
        <div class="stat-value" id="center-overview-specialists">0</div>
        <div class="hint">Assigned to this center</div>
      </div>
      <div class="stat-card mini">
        <header><span>Assessments logged</span></header>
        <div class="stat-value" id="center-overview-assessments">0</div>
        <div class="hint">Captured by your team</div>
      </div>
      <div class="stat-card mini">
        <header><span>Average score</span></header>
        <div class="stat-value" id="center-overview-average">‚Äî</div>
        <div class="hint">Across your assessments</div>
      </div>
    </div>

    <div class="card" id="center-overview-recent-card">
      <div class="card-header">
        <div>
          <h3>Recent assessments</h3>
          <p class="hint">Latest activity at your center</p>
        </div>
      </div>
      <div class="stacked-list" id="center-overview-recent"></div>
    </div>
  </div>
</section>


        <!-- Centers (matches your style) -->
        <section id="section-centers" class="section">
            <div class="card full">
              <div class="card-header">
                <div>
                  <h2>Centers</h2>
                  <p class="hint">Smart distribution across regions</p>
                </div>
                <div class="card-actions">
                  <button id="btn-export-centers" class="primary ghost">Export</button>
                  <button
                    id="btn-toggle-add-center"
                    class="primary with-icon"
                    data-label-open="Add New Center"
                    data-label-close="Close form"
                  >
                    <span class="icon">Ôºã</span>
                    <span class="label">Add New Center</span>
                  </button>
                </div>
              </div>
<div id="add-center-panel" class="card collapsible">
              <div class="card-header">
                <div>
                  <h2>Register new center</h2>
                  <p class="hint">Provide credentials and the map position to plot it instantly.</p>
                </div>
              </div>
              <form id="form-center" class="grid-2-col" autocomplete="off">
                <div class="form-panel">
                  <div class="input-group">
                    <label for="center-name">Center name</label>
                    <input id="center-name" required placeholder="Cogniplay City Center">
                  </div>
                  <div class="input-group">
                    <label for="center-location">Location</label>
                    <input id="center-location" placeholder="Riyadh, KSA">
                  </div>
                  <div class="input-group">
                    <label for="center-image">Cover image URL (optional)</label>
                    <input id="center-image" placeholder="https://.../cover.jpg">
                  </div>
                  <div class="input-group">
                    <label for="center-image-file">Or upload cover photo</label>
                    <input id="center-image-file" type="file" accept="image/*">
                  </div>
                  <div class="input-group">
                    <label for="center-desc">Short description</label>
                    <input id="center-desc" placeholder="Immersive neurodevelopmental therapy">
                  </div>
                  <div class="input-group">
                    <label for="center-tags">Capabilities (comma separated)</label>
                    <input id="center-tags" placeholder="Cognitive Rehab, Sensory, Balance">
                  </div>
                  <div class="form-divider">
                    <h3>Center login</h3>
                    <p class="hint">Share credentials securely with the center lead.</p>
                  </div>
                  <div class="input-group">
                    <label for="center-username">Center username</label>
                    <input id="center-username" required placeholder="center-riyadh">
                  </div>
                  <div class="input-group">
                    <label for="center-password">Center password</label>
                    <input id="center-password" type="password" required placeholder="StrongPass!123">
                  </div>
                  <div class="grid-inline">
                    <div class="input-group">
                      <label for="center-lat">Latitude</label>
                      <input id="center-lat" type="number" step="any" placeholder="24.7136" required>
                    </div>
                    <div class="input-group">
                      <label for="center-lng">Longitude</label>
                      <input id="center-lng" type="number" step="any" placeholder="46.6753" required>
                    </div>
                  </div>
                  <p class="hint">Use decimal degrees. Coordinates are required to place the pin on Google Maps.</p>
                  <div class="form-actions">
                    <button type="button" class="ghost" id="btn-cancel-center">Cancel</button>
                    <button class="primary" type="submit">Save center</button>
                  </div>
                </div>
              </form>
            </div>
              <div class="centers-map">
                <div class="map-wrapper">
                  <div
                    id="centers-map-canvas"
                    class="map-canvas"
                    data-google-maps-key="YOUR_API_KEY"
                    data-default-lat="24.7136"
                    data-default-lng="46.6753"
                    data-default-zoom="4"
                  ></div>
                </div>
                <div id="centers-map-status" class="map-status muted">
                  Add a Google Maps API key and center coordinates to visualize the pins.
                </div>
              </div>

            <div class="center-directory">
              <div class="directory-header">
                <div>
                  <h3>Center directory</h3>
                  <p class="hint">Each card highlights center credentials and the specialists assigned there.</p>
                </div>
              </div>
              <div class="card-grid" id="centers-grid"></div>
            </div>
          </div>
        </section>

        <!-- Specialists -->
        <section id="section-specialists" class="section">
  <div class="card full">
    <div class="card-header">
      <div>
        <h2>Specialists</h2>
        <p class="hint">Link specialists to a center and set their focus.</p>
      </div>
    </div>

    <div class="split-layout">
      <aside class="summary-column">
        <div class="insight-card">
          <span class="insight-label">Total specialists</span>
          <strong id="specialists-total">0</strong>
          <span class="hint">Active in the network</span>
        </div>
        <div class="insight-card">
          <span class="insight-label">Assigned to centers</span>
          <strong id="specialists-assigned">0</strong>
          <span class="hint" id="specialists-coverage">Center coverage ‚Äî 0%</span>
        </div>
        <div class="insight-card">
          <span class="insight-label">Awaiting placement</span>
          <strong id="specialists-unassigned">0</strong>
          <span class="hint">Ready to be matched</span>
        </div>
        <div class="panel">
          <div class="panel-header">
            <h3>Focus mix</h3>
          </div>
          <p class="hint">Top disciplines represented by your team.</p>
          <div class="bubble-list" id="specialist-focus-pills"></div>
        </div>
      </aside>

      <div class="content-column">
        <div class="form-panel">
          <div>
            <h3>Register specialist</h3>
            <p id="specialist-form-hint" class="hint">
              Capture their focus, connect them with a center, and issue login credentials.
            </p>
          </div>
          <form id="form-specialist" class="grid-2-col">
            <div class="input-group">
              <label for="spec-name">Name</label>
              <input id="spec-name" required placeholder="Dr. Noor Al-Fahad" />
            </div>
            <div class="input-group">
              <label for="spec-skill">Focus/Discipline</label>
              <input id="spec-skill" placeholder="PT / OT / Vision Rehab" />
            </div>
            <div class="input-group">
              <label for="spec-center">Center</label>
              <select id="spec-center"></select>
            </div>
            <div class="input-group">
              <label for="spec-username">Login username</label>
              <input id="spec-username" required placeholder="noor.pt" />
            </div>
            <div class="input-group">
              <label for="spec-password">Temporary password</label>
              <input id="spec-password" required placeholder="Spec123!" />
            </div>
            <div class="input-group">
              <label for="spec-avatar">Avatar URL (optional)</label>
              <input id="spec-avatar" placeholder="https://.../photo.jpg" />
            </div>
            <div class="input-group">
              <label for="spec-avatar-file">Or upload avatar</label>
              <input id="spec-avatar-file" type="file" accept="image/*" />
            </div>
            <button class="primary" type="submit">Add Specialist</button>
          </form>
        </div>

        <div class="card-subsection">
          <div class="directory-header">
            <div>
              <h3>Team roster</h3>
              <p class="hint">Review each specialist profile and assigned location.</p>
            </div>

            <!-- üîΩ NEW: dropdown menu -->
            <div class="directory-actions">
              <select id="specialist-select" aria-label="Choose specialist">
                <option value="">Select specialist‚Ä¶</option>
              </select>
            </div>
          </div>

          <!-- üîΩ NEW: collapsible toggle card -->
          <div id="specialist-details" class="card collapsible" style="display:none; margin-top:12px;"></div>

          <div class="specialists-grid" id="specialists-grid"></div>
        </div>
      </div>
    </div>
  </div>
</section>


        <!-- VR Modules -->
        <section id="section-modules" class="section">
          <div class="card full">
            <div class="card-header">
              <div>
                <h2>VR Modules</h2>
                <p class="hint">Catalog of modules (category + duration).</p>
              </div>
            </div>

            <div class="split-layout modules">
              <aside class="summary-column">
                <div class="insight-card">
                  <span class="insight-label">Modules live</span>
                  <strong id="modules-total">0</strong>
                  <span class="hint">Currently available to centers</span>
                </div>
                <div class="insight-card">
                  <span class="insight-label">Avg. duration</span>
                  <strong id="modules-avg-duration">‚Äî</strong>
                  <span class="hint">Based on configured runtimes</span>
                </div>
                <div class="insight-card">
                  <span class="insight-label">Distinct categories</span>
                  <strong id="modules-category-count">0</strong>
                  <span class="hint">Spread across learning paths</span>
                </div>
                <div class="panel">
                  <div class="panel-header">
                    <h3>Category mix</h3>
                  </div>
                  <p class="hint">Quick glance at the content balance.</p>
                  <div class="bubble-list" id="module-category-pills"></div>
                </div>
              </aside>

              <div class="content-column">
                <div class="form-panel">
                  <div>
                    <h3>Add VR module</h3>
                    <p class="hint">Track the session duration to assist scheduling.</p>
                  </div>
                  <form id="form-module" class="grid-2-col">
                    <div class="input-group">
                      <label for="mod-title">Title</label>
                      <input id="mod-title" required placeholder="Balance Training 1">
                    </div>
                    <div class="input-group">
                      <label for="mod-category">Category</label>
                      <input id="mod-category" placeholder="Rehab / Education / Assessment">
                    </div>
                    <div class="input-group">
                      <label for="mod-duration">Duration (min)</label>
                      <input id="mod-duration" type="number" min="1" step="1" placeholder="15">
                    </div>
                    <button class="primary" type="submit">Add Module</button>
                  </form>
                </div>

                <div class="card-subsection">
                  <div class="directory-header">
                    <div>
                      <h3>Module library</h3>
                      <p class="hint">Manage the immersive content available to centers.</p>
                    </div>
                  </div>
                  <div class="modules-grid" id="modules-grid"></div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="section-children" class="section">
  <div class="card full">
    <div class="card-header">
      <div>
        <h2>Children</h2>
        <p class="hint">Track learners linked to specialists and their VR progress.</p>
      </div>
    </div>

    <div class="split-layout">
      <!-- Left column: small stats -->
      <aside class="summary-column">
        <div class="stat-card">
          <header>
            <span>Total children</span>
          </header>
          <div class="stat-value" id="children-total">0</div>
          <div class="trend">Active VR learners in your scope</div>
        </div>

        <div class="stat-card">
          <header>
            <span>With assessments</span>
          </header>
          <div class="stat-value" id="children-with-assessments">0</div>
          <div class="trend">Children with at least one logged outcome</div>
        </div>

        <div class="stat-card">
          <header>
            <span>Avg. assessments per child</span>
          </header>
          <div class="stat-value" id="children-avg-assessments">‚Äî</div>
          <div class="trend">Helps you see follow-up consistency</div>
        </div>
      </aside>

      <!-- Right column: add child + roster -->
      <div class="content-column">
        <div class="form-panel">
          <div>
            <h3>Add child</h3>
            <p class="hint">
              Link each child to a specialist to track their VR journey across sessions and assessments.
            </p>
          </div>

          <form id="form-child" class="grid-2-col">
            <div class="input-group">
              <label for="child-name">Child name</label>
              <input id="child-name" placeholder="e.g. Omar A." required>
            </div>

            <div class="input-group">
              <label for="child-age">Age</label>
              <input id="child-age" type="number" min="1" max="25" placeholder="8">
            </div>

            <div class="input-group">
              <label for="child-specialist">Specialist</label>
              <select id="child-specialist" required></select>
            </div>

            <div class="input-group">
              <label for="child-notes">Notes</label>
              <input id="child-notes" placeholder="Group, diagnosis, or other notes">
            </div>

            <div class="form-actions">
              <button type="submit" class="primary with-icon">
                <span class="icon">Ôºã</span>
                <span class="label">Add child</span>
              </button>
            </div>
          </form>
        </div>

        <div class="card-subsection">
          <div class="directory-header">
            <div>
              <h3>Children roster</h3>
              <p class="hint">
                Each child is linked to a specialist and summarized with their recent assessment activity.
              </p>
            </div>
          </div>

          <!-- Reuse the module card grid styling for children -->
          <div class="modules-grid" id="children-grid"></div>
        </div>
      </div>
    </div>
  </div>
</section>

        <!-- Assessments -->
        <section id="section-assessments" class="section">
          <div class="card full">
            <div class="card-header">
              <div>
                <h2>Assessments</h2>
                <p class="hint" id="assessments-description">Record an assessment result for a module with a specialist.</p>
              </div>
            </div>

            <div class="split-layout assessments">
              <aside class="summary-column">
                <div class="insight-card">
                  <span class="insight-label">Assessments logged</span>
                  <strong id="assessments-total">0</strong>
                  <span class="hint">Completed check-ins</span>
                </div>
                <div class="insight-card">
                  <span class="insight-label">Average score</span>
                  <strong id="assessments-average">‚Äî</strong>
                  <span class="hint">Across recorded assessments</span>
                </div>
                <div class="insight-card">
                  <span class="insight-label">Latest session</span>
                  <strong id="assessments-last-date">‚Äî</strong>
                  <span class="hint">Most recent log entry</span>
                </div>
                <div class="panel">
                  <div class="panel-header">
                    <h3>Top module</h3>
                  </div>
                  <p class="hint">Most frequently assessed experience.</p>
                  <div class="panel-stat">
                    <strong id="assessments-top-module">‚Äî</strong>
                    <span class="hint">Stay aligned with demand</span>
                  </div>
                </div>
              </aside>

              <div class="content-column">
                <div class="form-panel">
                  <div>
                    <h3>Log new assessment</h3>
                    <p class="hint">Pair a trainee with a module and specialist, then track their outcome.</p>
                  </div>
                  <form id="form-assessment" class="grid-2-col">
                    <div class="input-group">
                    <label for="ass-child">Child</label>
                    <select id="ass-child" required></select>
                  </div>

                    <div class="input-group">
                      <label for="ass-module">Module</label>
                      <select id="ass-module" required></select>
                    </div>
                    <div class="input-group">
                      <label for="ass-specialist">Specialist</label>
                      <select id="ass-specialist" required></select>
                    </div>
                    <div class="input-group">
                      <label for="ass-score">Score</label>
                      <input id="ass-score" type="number" min="0" max="100" placeholder="85">
                    </div>
                    <div class="input-group">
                      <label for="ass-date">Date</label>
                      <input id="ass-date" type="date">
                    </div>
                    <button class="primary" type="submit">Add Assessment</button>
                  </form>
                </div>

                <div class="card-subsection">
                  <div class="directory-header">
                    <div>
                      <h3>Recent assessments</h3>
                      <p class="hint">Track outcomes and follow-up dates across the network.</p>
                    </div>
                  </div>
                  <div class="stacked-list" id="assessments-list"></div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <link rel="stylesheet" href="dashboard-style.css">
  <script src="dashboard-app.js"></script>
</body>
</html>